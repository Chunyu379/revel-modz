{{set . "title" "Login"}}

{{template "templates/header.html" .}}
{{template "templates/menu.html" .}}

<div class="row">
    <div class="large-6 large-centered small-8 small-centered columns">
        <div class="panel">
            <div class="row">
                <div class="large-12 columns">
                    <form action="/login" method="POST">
                        <fieldset>
                            <legend>Login</legend>
                            <input type="hidden" name="csrf_token" value="{{ .csrf_token }}" />
                            
                            {{if .flash.error}}
                            <div class="row">
                                <div class="large-8 large-centered columns">
                                    <div data-alert class="alert-box alert radius">
                                        {{.flash.error}}
                                        <a href="#" class="close">&times;</a>
                                    </div>
                                </div>
                            </div>
                            {{end}}
                            
                            <div class="row">
                                {{with $field := field "userlogin.Email" .}}
                                <div class="large-12 columns">
                                    <label for="{{$field.Id}}">Email <small>required</small>
                                        <input id="{{$field.Id}}" name="{{$field.Name}}" value="{{$field.Flash}}" class="{{$field.ErrorClass}}"
                                        type="text" placeholder="user@domain.com" autofocus>
                                    </label>
                                    {{if $field.Error}}<span class="error">{{$field.Error}}</span>{{end}}
                                </div>
                                {{end}}


                                {{with $field := field "userlogin.Password" .}}
                                <div class="large-12 columns">
                                    <label for="{{$field.Id}}">Password <small>required</small>
                                        <input id="{{$field.Id}}" name="{{$field.Name}}" class="{{$field.ErrorClass}}"
                                        type="password" placeholder="pa55woRd%">
                                    </label>
                                    {{if $field.Error}}<span class="error">{{$field.Error}}</span>{{end}}
                                </div>
                            </div>
                                {{end}}

                            <button type="submit" class="button">Login</button>
                        </fieldset>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

{{template "templates/footer.html" .}}
